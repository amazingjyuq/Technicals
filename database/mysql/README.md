mysql常见问题
-------------------------

什么是索引
1. MySQL索引是一种数据结构，用于提高数据库查询的速度和效率。它类似于书中的目录，可以帮助数据库系统快速定位到存储数据的位置，减少了数据库的扫描和比较操作。
2. 在MySQL中，索引可以根据不同的列或列组合来创建。当执行查询时，MySQL可以利用索引快速定位到满足查询条件的行，而不必扫描整个数据表。这样可以提高查询的速度，并减少数据库的负载。
________________________
什么字段适合创建索引？
在MySQL中,创建索引的选择需要综合一下几个考虑：
1. 常用作查询条件的字段： 如果表的某个列经常用于where子句中，为该列建立一个索引可以极大地提高查找速度。
2. 常用作连接的列: 如果一列经常出现在多表查询的关联条件里，为该列建索引一样可以提高效率。
3. 在ORDER BY, GROUP BY或DISTINCT中经常使用的列： 这能大大提升排序和分组等操作的速度。
4. 区分度比较高的字段：比如每个用户会有一个ID，显然每个用户的ID都是不一样的，这样的话，数据的区分度就很高，就适合做索引。
5. 索引能提高查询效率，但它也并非越多越好。因为索引会占用额外的磁盘空间，并且在插入、删除和更新表的操作时会造成额外的性能开销。因此，在选择哪些字段创建索引时要找到适当的平衡。
-------------------------
什么字段不适合创建索引？
1. 数据重复度高的字段
2. 数据量小或者数据分布极为不均匀的字段
3. 经常改动的字段：虽然能加快查询速度但是也会影响insert、update和delete的速度
4. 不常用于查询条件的字段：对整体查询性能提升不了多少，还浪费索引空间
------------------------
索引的底层使用的是什么数据结构？
MySQL的索引底层主要使用了两种数据结构，分别是B+Tree索引和Hash索引。
1. B+Tree索引：
大部分MySQL存储引擎的默认索引类型。B+Tree是一种平衡多路查找树，可以保证数据的有序性，并且有较高的查找效率。
比如InnoDB存储引擎就采用的B+Tree索引。在B+Tree索引中，索引项是按照顺序排列并分布在树上的，这样对范围查询和排序就有了很大的优势。
2. Hash索引：
Memory存储引擎的索引就采用了Hash索引，适用于等值查询，但不支持范围查询和排序等操作。
Hash索引的查询速度非常快，但是索引的维护成本较高，而且Hash冲突的存在也会影响查询性能。
------------------------
为什么 InnoDB 存储引擎选用 B+ 树而不是 B 树呢？
1. 磁盘I/O操作降低:
   B+树只需要遍历少数节点就可以找到需要的数据，I/O次数大大减少，降低了磁盘I/O操作。
2. 查询效率更稳定:
   B+树的每一个叶子节点存储了所有的键值，所有数据的查找必须从根节点开始进行，而不像B树那样，其搜索性能最好时可在顶端完成，最差则可能要寻找到叶子节点，
   因此，B+树的查询稳定性更好。
3. 非叶子节点不存储数据，可以存储更多的键:
   这意味着B+树的非叶子节点可以存储的键值数量更多，所以树的高度会更低，查询效率更高。
4. B+树的叶子节点都相连:
   这对于范围查询极其有利。如果你需要进行一个范围查询，你只需要找到范围的最小值，然后沿着叶子节点链表往后读就行了，直到遇到范围的最大值。而如果你用B树的话，查找范围最小值和最大值是独立的，二者没有任何关系。
